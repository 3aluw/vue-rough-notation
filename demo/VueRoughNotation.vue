<template>
  <div id="app">
    <div class="content">
      <h1>
        <RoughNotation
          :is-show="true"
          type="highlight"
          color="#fff176"
        >
          Vue Rough Notation
        </RoughNotation>
      </h1>

      <p>
        <a target="_blank" href="https://github.com/Leecason/vue-rough-notation">
          <button>View on Github + docs</button>
        </a>
      </p>

      <p>Following are the different styles of annotations. Hit the <b>annotate</b> button in each section to see the animated annotation</p>
    </div>

    <!-- types -->
    <div
      v-for="item in annotations"
      :key="item.type"
      :style="{ 'background-color': item.bg }"
      class="section"
    >
      <div class="content">
        <h3>
          <RoughNotation
            :type="item.type"
            :color="item.color"
            :is-show="item.show"
          >{{ item.content.title }}</RoughNotation>
        </h3>
        <p>
          {{ item.content.p1 }} {{ ' ' }}
          <RoughNotation
            :type="item.type"
            :color="item.color"
            :stroke-width="item.strokeWidth"
            :is-show="item.show"
            :tag="item.tag"
          >{{ item.content.draw }}</RoughNotation>
          {{ '' }} {{ item.content.p2 }}
        </p>
        <button @click="item.show = !item.show">annotate</button>
      </div>
    </div>

    <!-- multiple lines -->
    <div class="section" style="background-color: #fff8f1;">
      <RoughNotationGroup :is-show="showMultilines">
        <div class="content">
          <h3>Multiple lines</h3>
          <p>Ability to annotate inline content that can span multiple lines</p>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed accumsan nisi hendrerit augue molestie tempus.
            Phasellus purus quam, aliquet nec commodo quis, pharetra ut orci.{{ '' }}
            <RoughNotation
              :multiline="true"
              :iterations="1"
              :animationDuration="1500"
              type="highlight"
              color="#ffd54f"
            >
              Donec laoreet ligula nisl, placerat molestie mauris luctus id. Fusce dapibus non libero nec lobortis. Nullam iaculis nisl ac eros consequat, sit amet placerat massa vulputate. Maecenas euismod volutpat ultrices. Pellentesque felis ex, ullamcorper in felis finibus, feugiat dignissim augue.
            </RoughNotation>
            Integer malesuada non eros consectetur interdum. Mauris mollis non urna in porta.
          </p>
          <button @click="showMultilines = !showMultilines">annotate</button>
        </div>
      </RoughNotationGroup>
    </div>

    <!-- annotation group -->
    <div class="section" style="background-color: #fbe9e7;">
      <RoughNotationGroup :is-show="showGroup">
        <div class="content">
          <h3>
            <RoughNotation type="box" color="#bf360c" :strokeWidth="5" order="2">
              Annotation Group
            </RoughNotation>
          </h3>
          <p>
            Rough Notation provides a way to order the animation of annotations
            by creating an{{ '' }}
            <RoughNotation type="highlight" color="yellow" order="1">annotation-group</RoughNotation>
            . Pass the list of annotations to create a group. When{{ '' }}
            <i>
              <RoughNotation type="underline" color="#bf360c" order="3">show</RoughNotation>
            </i>
            {{ '' }}
            is called on the group, the annotations are animated in order.
          </p>
          <button @click="showGroup = !showGroup">annotate</button>
        </div>
      </RoughNotationGroup>
    </div>

    <!-- no animation -->
    <div class="section" style="background-color: #eceff1;">
      <div class="content">
        <h3>
          <RoughNotation
            :is-show="showNoAnim"
            :animate="false"
            type="box"
            color="#263238"
          >No Animation</RoughNotation>
        </h3>
        <p>
          Of course you don't have to animate the annotation, it just shows up when {{ ' ' }}
          <i>
            <RoughNotation
              :is-show="showNoAnim"
              :stroke-width="4"
              :animate="false"
              type="underline"
              color="#263238"
            >show</RoughNotation>
          </i>
          {{ '' }} is called
        </p>
        <button @click="showNoAnim = !showNoAnim">annotate</button>
      </div>
    </div>

    <!-- reactive config -->
    <div class="section" style="background-color: #f5f5f5;">
      <div class="content">
        <h3>
          <RoughNotation
            :is-show="true"
            type="box"
            :color="colorChanging"
            :stroke-width="strokeWidthChanging"
            :padding="paddingChanging"
          >Reactive change</RoughNotation>
        </h3>
        <p>
        Color, Stroke width, Padding will change reactively
        </p>
      </div>
    </div>

    <div class="content">
      <p>
        <a target="_blank" href="https://github.com/Leecason/vue-rough-notation/tree/master/demo">
          <button>View demo code on Github</button>
        </a>
      </p>
    </div>
  </div>
</template>

<script>
Array.prototype.getNext = function () {
	let el = this.shift();
	this.push( el );
	return el;
}

export default {
  name: 'VueRoughNotation',

  data: () => ({
    annotations: [
      {
        show: false,
        type: "underline",
        bg: "#ffebee",
        color: "#b71c1c",
        content: {
          title: "underline",
          p1: "Create a sketchy",
          draw: "underline",
          p2: "below an element."
        }
      },
      {
        show: false,
        type: "box",
        bg: "#f3e5f5",
        color: "#4a148c",
        content: {
          title: "box",
          p1: "This style draws a",
          draw: "box",
          p2: "around the element."
        }
      },
      {
        show: false,
        type: "circle",
        bg: "#e3f2fd",
        color: "#0d47a1",
        content: {
          title: "circle",
          p1: "Draw a",
          draw: "circle",
          p2: "around the element."
        }
      },
      {
        show: false,
        type: "highlight",
        bg: "#f5f5f5",
        color: "#ffd54f",
        content: {
          title: "highlight",
          p1: "Creates a",
          draw: "highlight",
          p2: "effect as if marked by a highlighter."
        }
      },
      {
        show: false,
        type: "strike-through",
        bg: "#e8f5e9",
        color: "#1b5e20",
        content: {
          title: "strike-through",
          p1: "Draw a hand-drawn line through an element creating a",
          draw: "strike-through",
          p2: "effect."
        }
      },
      {
        show: false,
        type: "crossed-off",
        bg: "#e0f2f1",
        color: "#f57f17",
        content: {
          title: "crossed-off",
          p1: "To symbolize rejection, use a",
          draw: "crossed-off",
          p2: "effect on an element."
        }
      },
      {
        show: false,
        type: "bracket",
        bg: "#fffde7",
        color: "red",
        strokeWidth: 2,
        tag: 'div',
        content: {
          title: "bracket",
          p1: "Create a hand-drawn bracket around a block (like a paragraph of text) on one or multiple sides of the block.",
          draw: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed accumsan nisi hendrerit augue molestie tempus. Phasellus purus quam, aliquet nec commodo quis, pharetra ut orci. Donec laoreet ligula nisl, placerat molestie mauris luctus id. Fusce dapibus non libero nec lobortis. Nullam iaculis nisl ac eros consequat, sit amet placerat massa vulputate.",
          p2: ""
        }
      }
    ],
    showMultilines: false,
    showGroup: false,
    showNoAnim: false,
    colorChanging: '#263238',
    strokeWidthChanging: 1,
    paddingChanging: 1
  }),

  mounted() {
    let colors = ['#263238', '#b71c1c', '#4a148c', '#0d47a1', '#ffd54f', '#ffd54f', '#1b5e20', '#f57f17']
    setInterval(() => {
      this.colorChanging = colors.getNext()
      if(this.strokeWidthChanging > 6) this.strokeWidthChanging = 0
      this.strokeWidthChanging++
      if(this.paddingChanging > 9) this.paddingChanging = 0
      this.paddingChanging += 3
    }, 500)
  },
};
</script>
